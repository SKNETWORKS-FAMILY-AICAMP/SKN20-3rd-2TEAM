# 임베딩 모델 및 청크 전략 평가 보고서

**생성 날짜**: 2025-12-10 07:20:44

---

## 1. 평가 개요

### 평가 모델

1. BGE-M3
2. MPNet
3. MiniLM-L6
4. MsMarco
5. OpenAI-small
6. Paraphrase-Multi
7. SPECTER

### 평가 청크 전략

- **100_0**: chunk_size=100, overlap=0
- **100_15**: chunk_size=100, overlap=15
- **200_0**: chunk_size=200, overlap=0
- **200_30**: chunk_size=200, overlap=30
- **300_0**: chunk_size=300, overlap=0
- **300_45**: chunk_size=300, overlap=45

### 평가 메트릭

- **Hit Rate@K**: 상위 K개 결과 중 최소 1개의 관련 문서 포함 비율 (0~1)
- **MRR (Mean Reciprocal Rank)**: 첫 번째 관련 문서의 역순위 평균
- **NDCG@K (Normalized Discounted Cumulative Gain)**: 순위를 고려한 검색 품질 (0~1)
- **Avg Time**: 쿼리당 평균 검색 시간 (초)

---

## 2. 전체 평가 결과

| 모델 | 청크 전략 | HR@5 | HR@10 | MRR | NDCG@5 | NDCG@10 | Avg Time(s) |
|------|-----------|------|-------|-----|--------|---------|-------------|
| Paraphrase-Multi | 200_30 | 1.000 | 1.000 | 0.857 | 0.783 | 0.780 | 0.08 |
| OpenAI-small | 300_45 | 1.000 | 1.000 | 0.857 | 0.813 | 0.778 | 0.54 |
| Paraphrase-Multi | 300_0 | 1.000 | 1.000 | 0.810 | 0.754 | 0.765 | 0.04 |
| OpenAI-small | 300_0 | 1.000 | 1.000 | 0.821 | 0.771 | 0.762 | 0.41 |
| Paraphrase-Multi | 300_45 | 1.000 | 1.000 | 0.845 | 0.754 | 0.761 | 0.04 |
| Paraphrase-Multi | 200_0 | 1.000 | 1.000 | 0.800 | 0.724 | 0.754 | 0.07 |
| MPNet | 200_30 | 1.000 | 1.000 | 0.857 | 0.715 | 0.750 | 0.08 |
| MiniLM-L6 | 300_45 | 1.000 | 1.000 | 0.881 | 0.754 | 0.745 | 0.02 |
| Paraphrase-Multi | 100_15 | 0.929 | 1.000 | 0.883 | 0.762 | 0.740 | 0.10 |
| MPNet | 300_45 | 1.000 | 1.000 | 0.833 | 0.763 | 0.739 | 0.04 |
| Paraphrase-Multi | 100_0 | 0.929 | 1.000 | 0.847 | 0.743 | 0.738 | 0.10 |
| MiniLM-L6 | 100_15 | 0.929 | 0.929 | 0.857 | 0.749 | 0.737 | 0.05 |
| OpenAI-small | 200_30 | 1.000 | 1.000 | 0.839 | 0.739 | 0.730 | 0.54 |
| MiniLM-L6 | 200_0 | 0.857 | 1.000 | 0.807 | 0.712 | 0.729 | 0.03 |
| OpenAI-small | 200_0 | 1.000 | 1.000 | 0.839 | 0.717 | 0.729 | 0.59 |
| MiniLM-L6 | 200_30 | 0.929 | 1.000 | 0.794 | 0.722 | 0.725 | 0.04 |
| MPNet | 300_0 | 1.000 | 1.000 | 0.798 | 0.735 | 0.721 | 0.11 |
| MsMarco | 100_0 | 1.000 | 1.000 | 0.911 | 0.733 | 0.721 | 0.05 |
| MPNet | 100_15 | 0.857 | 1.000 | 0.774 | 0.692 | 0.720 | 0.10 |
| SPECTER | 300_45 | 0.929 | 1.000 | 0.890 | 0.751 | 0.713 | 0.11 |
| MiniLM-L6 | 300_0 | 1.000 | 1.000 | 0.804 | 0.705 | 0.712 | 0.03 |
| MiniLM-L6 | 100_0 | 0.929 | 0.929 | 0.893 | 0.736 | 0.703 | 0.05 |
| MsMarco | 100_15 | 1.000 | 1.000 | 0.907 | 0.735 | 0.702 | 0.05 |
| MPNet | 100_0 | 0.929 | 1.000 | 0.771 | 0.679 | 0.701 | 0.10 |
| MPNet | 200_0 | 1.000 | 1.000 | 0.768 | 0.685 | 0.699 | 0.06 |
| BGE-M3 | 300_45 | 1.000 | 1.000 | 0.815 | 0.716 | 0.691 | 0.05 |
| OpenAI-small | 100_15 | 0.929 | 1.000 | 0.854 | 0.682 | 0.687 | 0.58 |
| OpenAI-small | 100_0 | 0.929 | 1.000 | 0.849 | 0.691 | 0.685 | 0.73 |
| SPECTER | 300_0 | 0.929 | 0.929 | 0.768 | 0.702 | 0.683 | 0.11 |
| BGE-M3 | 100_15 | 1.000 | 1.000 | 0.746 | 0.667 | 0.678 | 0.14 |
| MsMarco | 300_0 | 1.000 | 1.000 | 0.740 | 0.653 | 0.674 | 0.10 |
| MsMarco | 300_45 | 1.000 | 1.000 | 0.780 | 0.654 | 0.670 | 0.02 |
| SPECTER | 200_30 | 0.929 | 0.929 | 0.764 | 0.674 | 0.661 | 0.06 |
| BGE-M3 | 200_30 | 0.929 | 1.000 | 0.821 | 0.678 | 0.660 | 0.11 |
| MsMarco | 200_30 | 0.929 | 0.929 | 0.792 | 0.650 | 0.658 | 0.04 |
| SPECTER | 200_0 | 0.929 | 0.929 | 0.750 | 0.678 | 0.657 | 0.06 |
| SPECTER | 100_15 | 1.000 | 1.000 | 0.719 | 0.663 | 0.646 | 0.10 |
| BGE-M3 | 300_0 | 1.000 | 1.000 | 0.792 | 0.647 | 0.642 | 0.06 |
| SPECTER | 100_0 | 0.929 | 1.000 | 0.738 | 0.673 | 0.641 | 0.10 |
| MsMarco | 200_0 | 0.857 | 1.000 | 0.747 | 0.614 | 0.634 | 0.03 |
| BGE-M3 | 100_0 | 0.929 | 0.929 | 0.788 | 0.642 | 0.633 | 0.13 |
| BGE-M3 | 200_0 | 0.929 | 1.000 | 0.801 | 0.589 | 0.603 | 0.10 |

---

## 3. 최고 성능 조합

### NDCG@10 기준 (종합 검색 품질)

- **모델**: Paraphrase-Multi
- **청크 전략**: 200_30
- **NDCG@10**: 0.780
- **HR@10**: 1.000
- **MRR**: 0.857
- **평균 검색 시간**: 0.08초

### Hit Rate@10 기준 (검색 재현율)

- **모델**: Paraphrase-Multi
- **청크 전략**: 200_30
- **HR@10**: 1.000
- **NDCG@10**: 0.780
- **MRR**: 0.857

### MRR 기준 (첫 번째 관련 문서 순위)

- **모델**: MsMarco
- **청크 전략**: 100_0
- **MRR**: 0.911
- **NDCG@10**: 0.721

### 검색 속도 (가장 빠름)

- **모델**: MsMarco
- **청크 전략**: 300_45
- **평균 검색 시간**: 0.02초
- **NDCG@10**: 0.670

---

## 4. 청크 전략별 성능 비교

### 청크 전략: 100_0

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| Paraphrase-Multi | 1.000 | 0.738 | 0.847 |
| MsMarco | 1.000 | 0.721 | 0.911 |
| MiniLM-L6 | 0.929 | 0.703 | 0.893 |
| MPNet | 1.000 | 0.701 | 0.771 |
| OpenAI-small | 1.000 | 0.685 | 0.849 |
| SPECTER | 1.000 | 0.641 | 0.738 |
| BGE-M3 | 0.929 | 0.633 | 0.788 |

### 청크 전략: 100_15

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| Paraphrase-Multi | 1.000 | 0.740 | 0.883 |
| MiniLM-L6 | 0.929 | 0.737 | 0.857 |
| MPNet | 1.000 | 0.720 | 0.774 |
| MsMarco | 1.000 | 0.702 | 0.907 |
| OpenAI-small | 1.000 | 0.687 | 0.854 |
| BGE-M3 | 1.000 | 0.678 | 0.746 |
| SPECTER | 1.000 | 0.646 | 0.719 |

### 청크 전략: 200_0

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| Paraphrase-Multi | 1.000 | 0.754 | 0.800 |
| MiniLM-L6 | 1.000 | 0.729 | 0.807 |
| OpenAI-small | 1.000 | 0.729 | 0.839 |
| MPNet | 1.000 | 0.699 | 0.768 |
| SPECTER | 0.929 | 0.657 | 0.750 |
| MsMarco | 1.000 | 0.634 | 0.747 |
| BGE-M3 | 1.000 | 0.603 | 0.801 |

### 청크 전략: 200_30

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| Paraphrase-Multi | 1.000 | 0.780 | 0.857 |
| MPNet | 1.000 | 0.750 | 0.857 |
| OpenAI-small | 1.000 | 0.730 | 0.839 |
| MiniLM-L6 | 1.000 | 0.725 | 0.794 |
| SPECTER | 0.929 | 0.661 | 0.764 |
| BGE-M3 | 1.000 | 0.660 | 0.821 |
| MsMarco | 0.929 | 0.658 | 0.792 |

### 청크 전략: 300_0

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| Paraphrase-Multi | 1.000 | 0.765 | 0.810 |
| OpenAI-small | 1.000 | 0.762 | 0.821 |
| MPNet | 1.000 | 0.721 | 0.798 |
| MiniLM-L6 | 1.000 | 0.712 | 0.804 |
| SPECTER | 0.929 | 0.683 | 0.768 |
| MsMarco | 1.000 | 0.674 | 0.740 |
| BGE-M3 | 1.000 | 0.642 | 0.792 |

### 청크 전략: 300_45

| 모델 | HR@10 | NDCG@10 | MRR |
|------|-------|---------|-----|
| OpenAI-small | 1.000 | 0.778 | 0.857 |
| Paraphrase-Multi | 1.000 | 0.761 | 0.845 |
| MiniLM-L6 | 1.000 | 0.745 | 0.881 |
| MPNet | 1.000 | 0.739 | 0.833 |
| SPECTER | 1.000 | 0.713 | 0.890 |
| BGE-M3 | 1.000 | 0.691 | 0.815 |
| MsMarco | 1.000 | 0.670 | 0.780 |

---

## 5. 모델별 성능 비교

### 모델: BGE-M3

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 300_45 | 1.000 | 0.691 | 0.815 |
| 100_15 | 1.000 | 0.678 | 0.746 |
| 200_30 | 1.000 | 0.660 | 0.821 |
| 300_0 | 1.000 | 0.642 | 0.792 |
| 100_0 | 0.929 | 0.633 | 0.788 |
| 200_0 | 1.000 | 0.603 | 0.801 |

### 모델: MPNet

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 200_30 | 1.000 | 0.750 | 0.857 |
| 300_45 | 1.000 | 0.739 | 0.833 |
| 300_0 | 1.000 | 0.721 | 0.798 |
| 100_15 | 1.000 | 0.720 | 0.774 |
| 100_0 | 1.000 | 0.701 | 0.771 |
| 200_0 | 1.000 | 0.699 | 0.768 |

### 모델: MiniLM-L6

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 300_45 | 1.000 | 0.745 | 0.881 |
| 100_15 | 0.929 | 0.737 | 0.857 |
| 200_0 | 1.000 | 0.729 | 0.807 |
| 200_30 | 1.000 | 0.725 | 0.794 |
| 300_0 | 1.000 | 0.712 | 0.804 |
| 100_0 | 0.929 | 0.703 | 0.893 |

### 모델: MsMarco

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 100_0 | 1.000 | 0.721 | 0.911 |
| 100_15 | 1.000 | 0.702 | 0.907 |
| 300_0 | 1.000 | 0.674 | 0.740 |
| 300_45 | 1.000 | 0.670 | 0.780 |
| 200_30 | 0.929 | 0.658 | 0.792 |
| 200_0 | 1.000 | 0.634 | 0.747 |

### 모델: OpenAI-small

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 300_45 | 1.000 | 0.778 | 0.857 |
| 300_0 | 1.000 | 0.762 | 0.821 |
| 200_30 | 1.000 | 0.730 | 0.839 |
| 200_0 | 1.000 | 0.729 | 0.839 |
| 100_15 | 1.000 | 0.687 | 0.854 |
| 100_0 | 1.000 | 0.685 | 0.849 |

### 모델: Paraphrase-Multi

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 200_30 | 1.000 | 0.780 | 0.857 |
| 300_0 | 1.000 | 0.765 | 0.810 |
| 300_45 | 1.000 | 0.761 | 0.845 |
| 200_0 | 1.000 | 0.754 | 0.800 |
| 100_15 | 1.000 | 0.740 | 0.883 |
| 100_0 | 1.000 | 0.738 | 0.847 |

### 모델: SPECTER

| 청크 전략 | HR@10 | NDCG@10 | MRR |
|-----------|-------|---------|-----|
| 300_45 | 1.000 | 0.713 | 0.890 |
| 300_0 | 0.929 | 0.683 | 0.768 |
| 200_30 | 0.929 | 0.661 | 0.764 |
| 200_0 | 0.929 | 0.657 | 0.750 |
| 100_15 | 1.000 | 0.646 | 0.719 |
| 100_0 | 1.000 | 0.641 | 0.738 |

---

## 6. 권장사항

### 프로덕션 사용 권장

**종합 평가 최고 성능**: `Paraphrase-Multi` + `chunk_strategy=200_30`

### 성능-속도 트레이드오프

**상위 3개 조합 (NDCG@10 기준)**:

1. **Paraphrase-Multi + 200_30** - NDCG@10=0.780, Time=0.08s
2. **OpenAI-small + 300_45** - NDCG@10=0.778, Time=0.54s
3. **Paraphrase-Multi + 300_0** - NDCG@10=0.765, Time=0.04s

**속도 우선 (검색 시간 < 0.1초 && NDCG@10 > 0.5)**:

- Paraphrase-Multi + 200_30 - NDCG@10=0.780, Time=0.08s

---

*이 보고서는 `evaluate_embeddings.py`에 의해 자동 생성되었습니다.*
